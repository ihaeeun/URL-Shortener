<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>URL-Shortener</title>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <style>
            form {
                margin: 0 auto;
                text-align: center;
                padding-top: 10%;
            }
            input{
                line-height: 30px;
            }
            #response{
                text-align: center;
                padding-top: 50px;
            }
            </style>
    </head>
    <body>
        <div>
            <form id="main">
                <input type='text' id='origin' name ='url' size='50'>
                <input type='submit' value='submit'>
            </form>
        </div>
        <div id="response">
        </div>

        <script>
            $(document).ready(function(){
                var frm = $('#main');
                frm.submit(function(e){

                    e.preventDefault();

                    var origin = $('#origin').val();
                    $.ajax({
                        url:'http://localhost:3000/shorturl/',
                        data: {"url" : origin},
                        type:'GET',
                        success:function(data) {
                            //alert(data);
                            if($("#result")){
                               $("#result").remove()
                            }
                            $("#response").append('<a id=\'result\' href=' + data + '>' + data + '</a>')
                            
                        },
                        error: function(jqXHR, textStatus, errorThrown){}
                    });
                });
            });
        </script>
    </body>
</html>